# 出题：从入门到出锅

本文是北京工业大学程序设计集训队题目组成员的出题入门文档。初稿与2023/4/29开始动工。



## 什么构成一道好的题？

一道好题 = 缘分到了就行的题目背景 + 恰当的题目难度 + 不出锅的题目数据

### 题目背景

不用我多说，我相信大家的整活能力。可以参考集训队仓库中的往年赛题。

需要注意的是：

1. 保证去除『题目背景』后，单纯阅读『题目描述』中的文本就可以做出整道题
   1. 所有需要了解的背景知识必须完整介绍
2. 笔者认为，不能让对题目中的梗非常熟悉的人有很大的读题速度优势
   1. 我们考察的不是对于游戏和动漫梗的了解程度
   2. 需要介绍的背景知识 越少越好
   3. 如果『梗』是计算机学科相关知识，如操作系统、算法、网络、数学等，**可以让有这部分知识的人有额外读题速度优势**（即，大量使用并介绍计算机学科相关知识是可以接受的）
3. 符合社会主义核心价值观
   1. 拿不准就问老师

### 题目难度

在校内比赛出题，笔者认为，最重要的是『让每个人都享有比赛的乐趣』。题目要保证能够达到筛选的作用（毕竟叫做『预选赛』），同时还要保证各个水平段位的同学 **整场比赛区间** 都有题可做。

**较好的难度分布至少包括**

1. 大学才开始用电脑、只用了2个月的大一新生；3年没碰C语言、补创新学分的大四学生也能做出来的、直接`printf`级别的签到题
2. 2-3 道**难度递增**的、会 `if` 和 `for` 就能做出来的简单题
   1. 保证大部分同学有题可做
   2. 不能让同学签到完之后就开始坐牢
3. 2-3 道**起筛选作用的**基础数据结构题
   1. 负责筛选有基础、有兴趣的同学参加icpc和蓝桥
4. 1-2 道铜或者银难度的icpc题
   1. 从题干不能直接想到算法，不能『裸』

同时，**题面严格原创**。保证不能**直接搜索到答案**。如果对其他题进行改造，尽可能修改题面以及做法过程中的细节。

例外：经典算法（如八皇后、汉诺塔、表达式求值）等可以出现原题，但不宜多。（会给赛后查重工作带来困难）

### 题目数据

题目数据相关的要求比较多。

1. **必须用linux或者macos生成题目数据**，windows生成的CRLF换行符会搞坏评测脚本。
   1. windows用户建议使用WSL
2. 文件最后必须以换行结尾
   1. 符合POSIX要求
   2. 让使用`while(getchar() != '\n')`的同学也能通过
   3. 模拟题，至少覆盖题目中给出的所有可能性，并尽量考察 edge case
   4. 小数据量题（小于1K字节），建议在手动编写 edge case 的基础上，随机至少100组数据
   5. 其他题，建议 20 组左右
   6. 随机生成数据时，对于『数量』要特殊处理，比如：『节点数量』、『边数量』等，可以50%概率为题目中给出的数据范围的最大值，50%概率为 0到最大值的随机值，保证『最大值』和『非最大值』都出现



## 出题流程

以下是推荐的出题流程：

1. 确定题面和题目背景
2. 写标答（命名为 `answer.cpp`）
3. 写随机生成测试用例脚本
   1. 题干中给的样例也一定要放到 `input/output`中，命名为 `sample(%d).{in|ans}`
   2. 推荐用python，参考往词比赛L同学出题的 `gen_data.py`。
      1. python可以用 `cyaron` 等随机生成数据结构的库
4. 运行 `python tools/gen_data.py 题号` 来 对于每组测试输入，运行 `answer.cpp` 生成输出
5. 找同学测题
   1. 测题命名为 `姓名简称_test.cpp`
   2. 运行 `python tools/judge_all.py 题号 姓名简称_test.cpp` 来运行所有测试用例
6. 把题面搬到 LaTeX 题册中
7. 上传到 Domjudge 后进行最终测试

## 参考资料

建议完整阅读以下两个出题教程：

https://oi-wiki.org/contest/problemsetting/

https://docs.google.com/document/d/e/2PACX-1vRhazTXxSdj7JEIC7dp-nOWcUFiY8bXi9lLju-k6vVMKf4IiBmweJoOAMI-ZEZxatXF08I9wMOQpMqC/pub

随机生成测试用例的库：

https://github.com/luogu-dev/cyaron